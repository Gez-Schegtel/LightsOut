----QUIT----2020-06-29T10:47:39.890105+02:00 Pharo7.0.5-0-32bit-fd8c156.image priorSource: 0!----QUIT----2020-06-29T10:47:54.496471+02:00 Pharo7.0.5-0-32bit-fd8c156.image priorSource: 0!Object subclass: #LightsOut	instanceVariableNames: ''	classVariableNames: 'Juego Table Ventana'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/21/2022 16:46'!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion=2)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 16:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !!LightsOut class methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 12:29'!iniciarJuego|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion=2)ifTrue:[ ^UIManager default alert: 'Juego Cerrado '].! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 16:31'!cantClicks	^ UIManager default alert: 'Ganaste con ', (cantClicks)asString  , ' clicks.'! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:43'!tamaño|tam|"Se pide al usuario que elija el tamaño del tablero"tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out').	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'initialize' stamp: 'Mauri 11/18/2022 20:02'!initialize |opcion|opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Alternativo') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out').self modoJuego: opcion.self tamaño.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 12:01'!cerrar^self delete ! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Juannie 11/16/2022 22:25'!cambiarLuzOriginal: i at: j	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:42'!cambiarLuzfilaColumna: i at: j	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:54'!cambiarLuz:i at:j	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:43'!cambiarLuzDiagonal: i at: j	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 16:29'!nuevaluz: i at: j	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 16:58'!recorrerLuces 	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 16:54'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject 	"|a|	a:=contadorDeClicks.	a:= a+ anObject .	contadorDeClicks:=a"! !!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 16:59'!crearTablero  |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !----End fileIn----!!Partida commentStamp: 'Juancho 11/21/2022 17:15' prior: 0!Clase encargada de inicializar la partida. !!Partida methodsFor: 'initialize' stamp: 'Juancho 11/21/2022 17:21' prior: 33558325!initialize |opcion|opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonales') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out').self modoJuego: opcion.self tamaño.! !----SNAPSHOT----2022-11-21T17:22:04.837204-03:00 Lights Out.image priorSource: 95!!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:28' prior: 33554981!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion <> 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:28' prior: 33563575!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion !!= 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:30' prior: 33564096!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion =!! 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:30' prior: 33564618!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion !!== 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:30' prior: 33565140!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion <> 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:31' prior: 33565663!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion !!= 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:31' prior: 33566184!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion !!== 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:31' prior: 33566706!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion ~= 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:32' prior: 33567229!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion = 2)ifTrue:[^UIManager default alert: 'Juego Cerrado '].(opcion ~= 2)ifTrue:[^UIManager default alert: 'Juego Cancelado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:33' prior: 33567750!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion ~= 1)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:35' prior: 33568338!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion ~= 1)ifTrue:[^UIManager default alert: 'Juego Cerrado'].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!Partida methodsFor: 'initialize' stamp: 'Juancho 11/21/2022 17:35' prior: 33563157!initialize |opcion|opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonales') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out').(opcion ~= #(1 2 3)) ifTrue: [ ^UIManager default alert: 'Juego Cerrado' ].self modoJuego: opcion.self tamaño.! !!Partida methodsFor: 'initialize' stamp: 'Juancho 11/21/2022 17:37' prior: 33569373!initialize |opcion|opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonales') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out').(opcion ~= 1) ifTrue: [ ^UIManager default alert: 'Juego Cerrado' ].self modoJuego: opcion.self tamaño.! !!Partida methodsFor: 'initialize' stamp: 'Juancho 11/21/2022 17:38' prior: 33569777!initialize |opcion|opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonales') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out').(opcion ~= 1) ifTrue: [ ^UIManager default alert: 'Juego Cerrado' ].(opcion ~= 2) ifTrue: [ ^UIManager default alert: 'Juego Cerrado' ].(opcion ~= 3) ifTrue: [ ^UIManager default alert: 'Juego Cerrado' ].self modoJuego: opcion.self tamaño.! !!Partida methodsFor: 'initialize' stamp: 'Juancho 11/21/2022 17:38' prior: 33570174!initialize |opcion|opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonales') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out').self modoJuego: opcion.self tamaño.! !!Partida methodsFor: 'accessing' stamp: 'Juancho 11/21/2022 17:50' prior: 33557547!tamaño	|tam|"Se pide al usuario que elija el tamaño del tablero"	tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) 	message:'Seleccione el tamaño del tablero' title:'Lights Out').	(tam includes: #(3 5 7)) ifTrue: [ ^dimensionTablero:=tam ].	^UIManager alert: 'Juego Cancelado'.	! !!Partida methodsFor: 'accessing' stamp: 'Juancho 11/21/2022 17:50' prior: 33571036!tamaño	|tam|"Se pide al usuario que elija el tamaño del tablero"	tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) 	message:'Seleccione el tamaño del tablero' title:'Lights Out').	(tam includes: #(3 5 7)) ifTrue: [ ^dimensionTablero:=tam ].	^UIManager inform: 'Juego Cancelado'.	! !!Partida methodsFor: 'accessing' stamp: 'Juancho 11/21/2022 17:51' prior: 33571452!tamaño	|tam|"Se pide al usuario que elija el tamaño del tablero"	tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) 	message:'Seleccione el tamaño del tablero' title:'Lights Out').	(tam includes: #(1 2 3)) ifTrue: [ ^dimensionTablero:=tam ].	^UIManager inform: 'Juego Cancelado'.	! !!LightsOut methodsFor: 'initialization' stamp: 'Juancho 11/21/2022 17:51' prior: 33568859!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion ~= 1)ifTrue:[ ^UIManager default alert: 'Juego Cerrado' ].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !!Partida methodsFor: 'accessing' stamp: 'Juancho 11/21/2022 17:51' prior: 33571869!tamaño	|tam|"Se pide al usuario que elija el tamaño del tablero"	tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) 	message:'Seleccione el tamaño del tablero' title:'Lights Out').	^dimensionTablero:=tam	! !Smalltalk globals removeClassNamed: #AnObsoleteTablero!Smalltalk globals removeClassNamed: #AnObsoleteLuz!Smalltalk globals removeClassNamed: #AnObsoletePartida!Smalltalk globals removeClassNamed: #AnObsoleteLightsOut!Object subclass: #LightsOut	instanceVariableNames: ''	classVariableNames: 'Juego Table Ventana'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/21/2022 16:46'!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion=2)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 16:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !!LightsOut class methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 12:29'!iniciarJuego|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion=2)ifTrue:[ ^UIManager default alert: 'Juego Cerrado '].! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 16:31'!cantClicks	^ UIManager default alert: 'Ganaste con ', (cantClicks)asString  , ' clicks.'! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:43'!tamaño|tam|"Se pide al usuario que elija el tamaño del tablero"tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out').	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'initialize' stamp: 'Mauri 11/18/2022 20:02'!initialize |opcion|opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Alternativo') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out').self modoJuego: opcion.self tamaño.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 12:01'!cerrar^self delete ! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Juannie 11/16/2022 22:25'!cambiarLuzOriginal: i at: j	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:42'!cambiarLuzfilaColumna: i at: j	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:54'!cambiarLuz:i at:j	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:43'!cambiarLuzDiagonal: i at: j	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 16:29'!nuevaluz: i at: j	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 16:58'!recorrerLuces 	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 16:54'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject 	"|a|	a:=contadorDeClicks.	a:= a+ anObject .	contadorDeClicks:=a"! !!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 16:59'!crearTablero  |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !----End fileIn----!Smalltalk globals removeClassNamed: #AnObsoletePartida!Smalltalk globals removeClassNamed: #AnObsoleteTablero!Smalltalk globals removeClassNamed: #AnObsoleteLuz!Smalltalk globals removeClassNamed: #AnObsoleteLightsOut!Object subclass: #LightsOut	instanceVariableNames: ''	classVariableNames: 'Juego Table Ventana'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/21/2022 16:46'!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion=2)ifTrue:[^UIManager default alert: 'Juego Cerrado '].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 16:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !!LightsOut class methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 12:29'!iniciarJuego|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion=2)ifTrue:[ ^UIManager default alert: 'Juego Cerrado '].! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 16:31'!cantClicks	^ UIManager default alert: 'Ganaste con ', (cantClicks)asString  , ' clicks.'! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:43'!tamaño|tam|"Se pide al usuario que elija el tamaño del tablero"tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out').	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'initialize' stamp: 'Mauri 11/18/2022 20:02'!initialize |opcion|opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Alternativo') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out').self modoJuego: opcion.self tamaño.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 12:01'!cerrar^self delete ! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Juannie 11/16/2022 22:25'!cambiarLuzOriginal: i at: j	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:42'!cambiarLuzfilaColumna: i at: j	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:54'!cambiarLuz:i at:j	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:43'!cambiarLuzDiagonal: i at: j	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 16:29'!nuevaluz: i at: j	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 16:58'!recorrerLuces 	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 16:54'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject 	"|a|	a:=contadorDeClicks.	a:= a+ anObject .	contadorDeClicks:=a"! !!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 16:59'!crearTablero  |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !----End fileIn----!Tablero removeSelector: #cerrar!!Tablero methodsFor: 'initialize' stamp: 'Juancho 11/21/2022 18:16' prior: 33589848!crearTablero  |luz lado |	self tamaño.	self useRoundedCorners.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !Smalltalk globals removeClassNamed: #AnObsoleteLightsOut!Smalltalk globals removeClassNamed: #AnObsoleteTablero!Smalltalk globals removeClassNamed: #AnObsoleteLuz!Smalltalk globals removeClassNamed: #AnObsoletePartida!Object subclass: #LightsOut	instanceVariableNames: 'ventana'	classVariableNames: 'Juego Table'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/21/2022 17:58'!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion~=1)ifTrue:[^UIManager default alert: 'Juego Cerrado ' title: 'Lights Out'].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 16:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !!LightsOut class methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 12:29'!iniciarJuego|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion=2)ifTrue:[ ^UIManager default alert: 'Juego Cerrado '].! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 17:37'!cantClicks	^ UIManager default alert: 'Ganaste con ', (cantClicks)asString  , ' clicks.' title: 'Lights Out'.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 17:53'!tamaño|tam|"Se pide al usuario que elija el tamaño del tablero"tam:=nil.[ tam isNil ]whileTrue: [tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out')].	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 17:49'!initialize |opcion|opcion:=nil.[ opcion isNil  ]whileTrue:[opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Alternativo') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out')].self modoJuego: opcion.self tamaño.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 12:01'!cerrar^self delete ! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Juannie 11/16/2022 22:25'!cambiarLuzOriginal: i at: j	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:42'!cambiarLuzfilaColumna: i at: j	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:54'!cambiarLuz:i at:j	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:43'!cambiarLuzDiagonal: i at: j	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 16:29'!nuevaluz: i at: j	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 16:58'!recorrerLuces 	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 16:54'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject 	"|a|	a:=contadorDeClicks.	a:= a+ anObject .	contadorDeClicks:=a"! !!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 16:59'!crearTablero  |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !----End fileIn----!!Tablero methodsFor: 'accessing' stamp: 'Juancho 11/21/2022 18:25' prior: 33598764!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject ! !!Partida commentStamp: 'Juancho 11/21/2022 18:25' prior: 0!Clase encargada de desplegar el menú de bienvenida e inicialización del juego.!Smalltalk globals removeClassNamed: #AnObsoletePartida!Smalltalk globals removeClassNamed: #AnObsoleteLuz!Smalltalk globals removeClassNamed: #AnObsoleteTablero!Smalltalk globals removeClassNamed: #AnObsoleteLightsOut!Object subclass: #LightsOut	instanceVariableNames: 'ventana'	classVariableNames: 'Juego Table'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/21/2022 17:58'!initialize |opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion~=1)ifTrue:[^UIManager default alert: 'Juego Cerrado ' title: 'Lights Out'].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 16:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !!LightsOut class methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 12:29'!iniciarJuego|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion=2)ifTrue:[ ^UIManager default alert: 'Juego Cerrado '].! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 17:37'!cantClicks	^ UIManager default alert: 'Ganaste con ', (cantClicks)asString  , ' clicks.' title: 'Lights Out'.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 17:53'!tamaño|tam|"Se pide al usuario que elija el tamaño del tablero"tam:=nil.[ tam isNil ]whileTrue: [tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out')].	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 17:49'!initialize |opcion|opcion:=nil.[ opcion isNil  ]whileTrue:[opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Alternativo') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out')].self modoJuego: opcion.self tamaño.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 12:01'!cerrar^self delete ! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Juannie 11/16/2022 22:25'!cambiarLuzOriginal: i at: j	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:42'!cambiarLuzfilaColumna: i at: j	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:54'!cambiarLuz:i at:j	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/19/2022 19:43'!cambiarLuzDiagonal: i at: j	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 16:29'!nuevaluz: i at: j	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 16:58'!recorrerLuces 	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 16:54'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject 	"|a|	a:=contadorDeClicks.	a:= a+ anObject .	contadorDeClicks:=a"! !!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 16:59'!crearTablero  |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !----End fileIn----!Smalltalk globals removeClassNamed: #AnObsoleteLuz!Smalltalk globals removeClassNamed: #AnObsoleteLightsOut!Smalltalk globals removeClassNamed: #AnObsoletePartida!Smalltalk globals removeClassNamed: #AnObsoleteTablero!Object subclass: #LightsOut	instanceVariableNames: ''	classVariableNames: 'Juego Table Ventana'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/21/2022 23:22'!initialize "Es el encargado de manejar nuestro juego"|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion~=1)ifTrue:[^UIManager default alert: 'Juego Cerrado ' title: 'Lights Out'].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 18:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:23'!cantClicks"Muestra el mensaje de fin de juego"	^ UIManager default alert: 'Ganaste con ', (cantClicks)asString  , ' clicks.' title: 'Lights Out'.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:23'!tamaño"Se pide al usuario que elija el tamaño del tablero"|tam|tam:=nil.[ tam isNil ]whileTrue: [tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out')].	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 23:14'!initialize "Encargado de mostrar los mensajes por pantalla y almacenar los valores"|opcion|opcion:=nil.[ opcion isNil  ]whileTrue:[opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonal') values: #(1 2 3) lines: #(1 2 3) message:'Seleccione un modo de juego' title:'Lights Out')].self modoJuego: opcion.self tamaño.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:24'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject ! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:21'!cambiarLuzOriginal: i at: j"Prende o apaga las luces del modo de juego original,es decir las adyacentes"	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:21'!cambiarLuzfilaColumna: i at: j"Prende o apaga las luces en la fila y columna de la luz precionada"	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:22'!cambiarLuz:i at:j"Depende del modo de juego que se eligio anteriormente se apagan o se prenden las luces segun el modo de juego"	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:22'!cambiarLuzDiagonal: i at: j"Prende o apaga las luces en diagonal de la luz precionada"	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:26'!nuevaluz: i at: j"Instanciamos una nueva luz y le asignamos una posicion en nuestro arreglo "	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 23:22'!crearTablero "Es nuestro initialize pero lo llamamos una vez que le pasamos los valores del tamaño del tablero y modo de juego" |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 23:26'!recorrerLuces "Recorremos las luces para verificar si estan todas apagadas"	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 23:24'!cerrar"Borrar el tablero"^self delete ! !----End fileIn----!!Partida commentStamp: 'Juancho 11/21/2022 23:54' prior: 0!Clase encargada de pedir los datos.!----SNAPSHOT----2022-11-21T23:56:37.876204-03:00 Lights Out.image priorSource: 8967!!Partida methodsFor: 'accessing' stamp: 'Juancho 11/22/2022 19:04' prior: 33611082!cantClicks"Muestra el mensaje de fin de juego"	^ UIManager default message: 'Ganaste con ', (cantClicks)asString  , ' clicks.' title: 'Lights Out'.! !!Partida methodsFor: 'accessing' stamp: 'Juancho 11/22/2022 19:07' prior: 33617661!cantClicks"Muestra el mensaje de fin de juego"	^ UIManager default message: 'Completaste la partida con ', (cantClicks)asString  , ' clicks.' title: '¡Felicitaciones, has ganado el Lights Out!!'.! !----SNAPSHOT----2022-11-22T19:49:17.355923-03:00 Lights Out.image priorSource: 63058!----SNAPSHOT----2022-11-22T19:49:20.442923-03:00 Lights Out.image priorSource: 63667!----SNAPSHOT----2022-11-22T19:49:22.588923-03:00 Lights Out.image priorSource: 63754!----SNAPSHOT----2022-11-22T19:50:19.915923-03:00 Lights Out.image priorSource: 63841!----SNAPSHOT----2022-11-22T19:52:17.219923-03:00 Lights Out.image priorSource: 63928!!Partida methodsFor: 'accessing' stamp: 'Juancho 11/23/2022 01:20' prior: 33617898!cantClicks"Muestra el mensaje de fin de juego"	(cantClicks < 7) ifTrue: [ ^ UIManager default message: 'Completaste la partida con ', (cantClicks)asString  , ' clicks. 卍 ' title: '¡Felicitaciones, has ganado el Lights Out!!'. ].	! !!Partida methodsFor: 'accessing' stamp: 'Juancho 11/23/2022 01:52' prior: 33618619!cantClicks"Muestra el mensaje de fin de juego"	(cantClicks < 9 & modoJuego = 1) | (cantClicks < 25 & modoJuego = 2) | (cantClicks < 49 & modoJuego = 3) ifTrue: [ ^ UIManager default message: 'Completaste la partida con ', (cantClicks)asString  , ' clicks. Puntuación: ' title: '¡Felicitaciones, has ganado el Lights Out!!'. ].	! !!Partida methodsFor: 'accessing' stamp: 'Juancho 11/23/2022 01:52' prior: 33618942!cantClicks"Muestra el mensaje de fin de juego"	((cantClicks < 9 & modoJuego = 1) | (cantClicks < 25 & modoJuego = 2) | (cantClicks < 49 & modoJuego = 3)) ifTrue: [ ^ UIManager default message: 'Completaste la partida con ', (cantClicks)asString  , ' clicks. Puntuación: ' title: '¡Felicitaciones, has ganado el Lights Out!!'. ].	! !!Partida methodsFor: 'accessing' stamp: 'Juancho 11/23/2022 01:53' prior: 33619362!cantClicks"Muestra el mensaje de fin de juego"	((cantClicks < 9 & modoJuego = 1) or: (cantClicks < 25 & modoJuego = 2) or: (cantClicks < 49 & modoJuego = 3)) ifTrue: [ ^ UIManager default message: 'Completaste la partida con ', (cantClicks)asString  , ' clicks. Puntuación: ' title: '¡Felicitaciones, has ganado el Lights Out!!'. ].	! !Smalltalk globals removeClassNamed: #AnObsoletePartida!Smalltalk globals removeClassNamed: #AnObsoleteTablero!Smalltalk globals removeClassNamed: #AnObsoleteLuz!Smalltalk globals removeClassNamed: #AnObsoleteLightsOut!Object subclass: #Jugador	instanceVariableNames: 'nombre'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Jugador methodsFor: 'initialize' stamp: 'Mauri 11/23/2022 15:41'!initialize |jugador|jugador:=nil.[jugador isNil or: jugador='']whileTrue:[ jugador:= (UIManager default request: 'Ingrese su Nombre o Alias')].self nombre: jugador! !!Jugador methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 10:58'!nombre: anObject	nombre := anObject! !!Jugador methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 10:58'!nombre	^ nombre! !Object subclass: #LightsOut	instanceVariableNames: ''	classVariableNames: 'Juego Juga Table Ventana'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/23/2022 11:26'!initialize "Es el encargado de manejar nuestro juego"|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion~=1)ifTrue:[^UIManager default alert: 'Juego Cerrado ' title: 'Lights Out'].Juga:=Jugador new.Juego:= Partida new.Juego jugador: Juga nombre.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 18:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks jugador'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida commentStamp: 'Juancho 11/21/2022 23:54' prior: 0!Clase encargada de pedir los datos.!!Partida methodsFor: 'initialize' stamp: 'Mauri 11/23/2022 11:20'!initialize "Encargado de mostrar los mensajes por pantalla y almacenar los valores"|opcion|opcion:=nil.[ opcion isNil  ]whileTrue:[opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonal' 'Aleatorio') values: #(1 2 3 4) lines: #(1 2 3 4) message:'Seleccione un modo de juego' title:'Lights Out')].self modoJuego: opcion.self tamaño.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 11:07'!jugador: anObject	jugador := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 16:18'!cantClicks"Muestra el mensaje de fin de juego"	^ UIManager default message: 'Completaste la partida con ', (cantClicks)asString  , ' clicks.' title: '¡Felicitaciones ',(self jugador),', has ganado el Lights Out!!'.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 11:07'!jugador	^ jugador! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:23'!tamaño"Se pide al usuario que elija el tamaño del tablero"|tam|tam:=nil.[ tam isNil ]whileTrue: [tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out')].	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 23:22'!crearTablero "Es nuestro initialize pero lo llamamos una vez que le pasamos los valores del tamaño del tablero y modo de juego" |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 23:24'!cerrar"Borrar el tablero"^self delete ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:24'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:26'!nuevaluz: i at: j"Instanciamos una nueva luz y le asignamos una posicion en nuestro arreglo "	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:21'!cambiarLuzfilaColumna: i at: j"Prende o apaga las luces en la fila y columna de la luz precionada"	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/23/2022 11:19'!cambiarLuz:i at:j"Depende del modo de juego que se eligio anteriormente se apagan o se prenden las luces segun el modo de juego"	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].	(self modoJuego=4)ifTrue:[ self cambiarLuzAleatorio: i at: j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/23/2022 11:49'!cambiarLuzAleatorio: i at: j"Cambia las luces aleatoriamente.Es una mezcla de los modos de juegos anteriores"|a|a:=#(1 2 3 4 5)atRandom.(a=1)ifTrue: [ self cambiarLuzOriginal: i at: j ]ifFalse:[(a=2)ifTrue:[ 1 to: self tamaño do: [ :x| (celdas at: i at:x)toggleState .self recorrerLuces ] ]	ifFalse:[(a=3)ifTrue:[ 1 to: self tamaño do: [ :y| (celdas at: y at:j)toggleState .self recorrerLuces ]]	ifFalse:[(a=4)ifTrue:[self cambiarLuzfilaColumna: i at: j]	ifFalse:[self cambiarLuzDiagonal: i at:j]]]].! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:22'!cambiarLuzDiagonal: i at: j"Prende o apaga las luces en diagonal de la luz precionada"	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:21'!cambiarLuzOriginal: i at: j"Prende o apaga las luces del modo de juego original,es decir las adyacentes"	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 23:26'!recorrerLuces "Recorremos las luces para verificar si estan todas apagadas"	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !----End fileIn----!!Jugador commentStamp: 'Juancho 11/23/2022 16:28' prior: 0!Clase que retiene algún alias proporcionado por el usuario.!Smalltalk globals removeClassNamed: #AnObsoleteLuz!Smalltalk globals removeClassNamed: #AnObsoleteTablero!Smalltalk globals removeClassNamed: #AnObsoleteLightsOut!Smalltalk globals removeClassNamed: #AnObsoletePartida!Smalltalk globals removeClassNamed: #AnObsoleteJugador!Object subclass: #Jugador	instanceVariableNames: 'nombre'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Jugador methodsFor: 'initialize' stamp: 'Mauri 11/23/2022 15:41'!initialize |jugador|jugador:=nil.[jugador isNil or: jugador='']whileTrue:[ jugador:= (UIManager default request: 'Ingrese su Nombre o Alias')].self nombre: jugador! !!Jugador methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 10:58'!nombre: anObject	nombre := anObject! !!Jugador methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 10:58'!nombre	^ nombre! !Object subclass: #LightsOut	instanceVariableNames: ''	classVariableNames: 'Juego Juga Table Ventana'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/23/2022 11:26'!initialize "Es el encargado de manejar nuestro juego"|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion~=1)ifTrue:[^UIManager default alert: 'Juego Cerrado ' title: 'Lights Out'].Juga:=Jugador new.Juego:= Partida new.Juego jugador: Juga nombre.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 18:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks jugador'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida commentStamp: 'Juancho 11/21/2022 23:54' prior: 0!Clase encargada de pedir los datos.!!Partida methodsFor: 'initialize' stamp: 'Mauri 11/23/2022 11:20'!initialize "Encargado de mostrar los mensajes por pantalla y almacenar los valores"|opcion|opcion:=nil.[ opcion isNil  ]whileTrue:[opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonal' 'Aleatorio') values: #(1 2 3 4) lines: #(1 2 3 4) message:'Seleccione un modo de juego' title:'Lights Out')].self modoJuego: opcion.self tamaño.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 11:07'!jugador: anObject	jugador := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 16:18'!cantClicks"Muestra el mensaje de fin de juego"	^ UIManager default message: 'Completaste la partida con ', (cantClicks)asString  , ' clicks.' title: '¡Felicitaciones ',(self jugador),', has ganado el Lights Out!!'.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 11:07'!jugador	^ jugador! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:23'!tamaño"Se pide al usuario que elija el tamaño del tablero"|tam|tam:=nil.[ tam isNil ]whileTrue: [tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out')].	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 23:22'!crearTablero "Es nuestro initialize pero lo llamamos una vez que le pasamos los valores del tamaño del tablero y modo de juego" |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 23:24'!cerrar"Borrar el tablero"^self delete ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:24'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:26'!nuevaluz: i at: j"Instanciamos una nueva luz y le asignamos una posicion en nuestro arreglo "	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:21'!cambiarLuzfilaColumna: i at: j"Prende o apaga las luces en la fila y columna de la luz precionada"	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/23/2022 11:19'!cambiarLuz:i at:j"Depende del modo de juego que se eligio anteriormente se apagan o se prenden las luces segun el modo de juego"	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].	(self modoJuego=4)ifTrue:[ self cambiarLuzAleatorio: i at: j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/23/2022 11:49'!cambiarLuzAleatorio: i at: j"Cambia las luces aleatoriamente.Es una mezcla de los modos de juegos anteriores"|a|a:=#(1 2 3 4 5)atRandom.(a=1)ifTrue: [ self cambiarLuzOriginal: i at: j ]ifFalse:[(a=2)ifTrue:[ 1 to: self tamaño do: [ :x| (celdas at: i at:x)toggleState .self recorrerLuces ] ]	ifFalse:[(a=3)ifTrue:[ 1 to: self tamaño do: [ :y| (celdas at: y at:j)toggleState .self recorrerLuces ]]	ifFalse:[(a=4)ifTrue:[self cambiarLuzfilaColumna: i at: j]	ifFalse:[self cambiarLuzDiagonal: i at:j]]]].! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:22'!cambiarLuzDiagonal: i at: j"Prende o apaga las luces en diagonal de la luz precionada"	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:21'!cambiarLuzOriginal: i at: j"Prende o apaga las luces del modo de juego original,es decir las adyacentes"	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 23:26'!recorrerLuces "Recorremos las luces para verificar si estan todas apagadas"	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !----End fileIn----!Smalltalk globals removeClassNamed: #AnObsoletePartida!Smalltalk globals removeClassNamed: #AnObsoleteLightsOut!Smalltalk globals removeClassNamed: #AnObsoleteLuz!Smalltalk globals removeClassNamed: #AnObsoleteTablero!Smalltalk globals removeClassNamed: #AnObsoleteJugador!Object subclass: #Jugador	instanceVariableNames: 'nombre'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Jugador methodsFor: 'initialize' stamp: 'Mauri 11/23/2022 15:41'!initialize |jugador|jugador:=nil.[jugador isNil or: jugador='']whileTrue:[ jugador:= (UIManager default request: 'Ingrese su Nombre o Alias')].self nombre: jugador! !!Jugador methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 10:58'!nombre: anObject	nombre := anObject! !!Jugador methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 10:58'!nombre	^ nombre! !Object subclass: #LightsOut	instanceVariableNames: ''	classVariableNames: 'Juego Juga Table Ventana'	poolDictionaries: ''	category: 'Lights Out'!!LightsOut commentStamp: 'Juani 11/17/2022 23:58' prior: 0!Juego Lights Out. Esta clase se encarga de iniciar la pantalla de bienvenida.!!LightsOut methodsFor: 'initialization' stamp: 'Mauri 11/23/2022 17:07'!initialize "Es el encargado de manejar nuestro juego"|opcion|opcion:= (UIManager default chooseFrom: #('Jugar' 'Salir') values: #(1 2) lines: #(1 2) message: 'Elija una opción' title: 'Lights Out').(opcion~=1)ifTrue:[^UIManager default alert: 'Juego Cerrado ' title: 'Lights Out'].Juego:= Partida new.Table:= Tablero new .Table tamaño:Juego dimensionTablero.Table modoJuego:Juego modoJuego.Ventana:=Table crearTablero openInHand openInWindow setLabel:'Lights Out'. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LightsOut class	instanceVariableNames: ''!!LightsOut class methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 18:48'!terminarJuego	Juego cantClicks: Table contadorDeClicks .	Juego cantClicks.	Table cerrar.	Ventana close.	! !SimpleSwitchMorph subclass: #Luz	instanceVariableNames: 'comportamientoCursor'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Luz commentStamp: 'Juani 11/18/2022 00:01' prior: 0!Clase encargada de la creación de las luces. Se encarga de la estética de las mismas, como así también a su estado inicial (prendida/apagada).!!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:26'!comportamientoCursor: aBlock	comportamientoCursor := aBlock! !!Luz methodsFor: 'accessing' stamp: 'Anonymous 11/15/2022 20:28'!mouseUp: anEvent	self toggleState.	comportamientoCursor value ! !!Luz methodsFor: 'initialization' stamp: 'Juannie 11/16/2022 18:45'!initialize	super initialize. 	self label: ''. "Para la celda no tenga un nombre"	self borderWidth: 10.	self useRoundedCorners. 	bounds := 0@0 corner: 80@80 . "tamaño de la celda"	onColor := Color veryVeryDarkGray .	offColor := Color lightGreen .	#(true false) atRandom ifTrue: [ self turnOn  ]ifFalse: [ self turnOff  ]. "Le damos un valor aleatorio a las luces"! !Object subclass: #Partida	instanceVariableNames: 'modoJuego dimensionTablero cantClicks jugador'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Partida commentStamp: 'Juancho 11/21/2022 23:54' prior: 0!Clase encargada de pedir los datos.!!Partida methodsFor: 'initialize' stamp: 'Mauri 11/23/2022 17:06'!initialize "Encargado de mostrar los mensajes por pantalla y almacenar los valores"|opcion|opcion:=nil.jugador:=Jugador new.[ opcion isNil  ]whileTrue:[opcion  := (UIManager default chooseFrom: #('Original' 'Filas y Columnas' 'Diagonal' 'Aleatorio') values: #(1 2 3 4) lines: #(1 2 3 4) message:'Seleccione un modo de juego' title:'Lights Out')].self modoJuego: opcion.self tamaño.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:03'!cantClicks: anObject	cantClicks := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 17:08'!cantClicks"Muestra el mensaje de fin de juego"	^ UIManager default message: 'Completaste la partida con ', (cantClicks)asString  , ' clicks.' title: '¡Felicitaciones ',(jugador nombre ),', has ganado el Lights Out!!'.! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 19:02'!modoJuego: anObject	modoJuego := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/23/2022 11:07'!jugador	^ jugador! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:23'!tamaño"Se pide al usuario que elija el tamaño del tablero"|tam|tam:=nil.[ tam isNil ]whileTrue: [tam := (UIManager default chooseFrom: #('3x3' '5x5' '7x7') values: #(3 5 7) lines: #(1 2 3) message:'Seleccione el tamaño del tablero' title:'Lights Out')].	^dimensionTablero:=tam! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:41'!dimensionTablero: anObject	dimensionTablero := anObject! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:50'!modoJuego	^ modoJuego! !!Partida methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 18:55'!dimensionTablero 	^ dimensionTablero ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Partida class	instanceVariableNames: 'tamaño'!BorderedMorph subclass: #Tablero	instanceVariableNames: 'celdas tamaño contadorDeClicks modoJuego cambiarLuz'	classVariableNames: ''	poolDictionaries: ''	category: 'Lights Out'!!Tablero commentStamp: 'Juani 11/18/2022 00:00' prior: 0!La clase T ablero es la encargada de inicializar el tablero, de los distintos modos de juego como así también de controlar si el jugador completó la partida.!!Tablero methodsFor: 'initialize' stamp: 'Mauri 11/21/2022 23:22'!crearTablero "Es nuestro initialize pero lo llamamos una vez que le pasamos los valores del tamaño del tablero y modo de juego" |luz lado |	self tamaño.	self useRoundedCorners.	self tamaño.	luz := Luz new.	lado:= luz width.	self bounds: (0@0 extent: (lado * tamaño) @ (lado * tamaño)+ (2* borderWidth) ).	self color: Color black.		celdas:= Array2D new: tamaño tabulate: [ :i :j | self  nuevaluz: i at: j  ].	contadorDeClicks:=1.	! !!Tablero methodsFor: 'finalization' stamp: 'Mauri 11/21/2022 23:24'!cerrar"Borrar el tablero"^self delete ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 12:11'!contadorDeClicks	^ contadorDeClicks! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego: anObject	modoJuego := anObject! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 21:13'!tamaño: anObject	tamaño := anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/21/2022 23:24'!contadorDeClicks: anObject	contadorDeClicks := contadorDeClicks+anObject ! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/18/2022 20:20'!tamaño	^ tamaño! !!Tablero methodsFor: 'accessing' stamp: 'Mauri 11/19/2022 19:23'!modoJuego	^ modoJuego! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:26'!nuevaluz: i at: j"Instanciamos una nueva luz y le asignamos una posicion en nuestro arreglo "	| luz origen |	luz := Luz new.	origen := self innerBounds origin.	self addMorph: luz.	luz position: ((i - 1) * luz width) @ ((j - 1) * luz height) + origen.		luz comportamientoCursor: [ self cambiarLuz: i at: j ].		^ luz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:21'!cambiarLuzfilaColumna: i at: j"Prende o apaga las luces en la fila y columna de la luz precionada"	1 to: tamaño do: [ :x| (celdas at: i at:x)toggleState  ].	1 to: tamaño do: [ :y| (celdas at: y at:j)toggleState  ].	self recorrerLuces! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/23/2022 11:19'!cambiarLuz:i at:j"Depende del modo de juego que se eligio anteriormente se apagan o se prenden las luces segun el modo de juego"	(self modoJuego=1)ifTrue: [ self cambiarLuzOriginal: i at: j ].	(self modoJuego=2)ifTrue: [ self cambiarLuzfilaColumna: i at: j ].	(self modoJuego=3)ifTrue:[ self cambiarLuzDiagonal:i at:j ].	(self modoJuego=4)ifTrue:[ self cambiarLuzAleatorio: i at: j ].^ cambiarLuz! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/23/2022 11:49'!cambiarLuzAleatorio: i at: j"Cambia las luces aleatoriamente.Es una mezcla de los modos de juegos anteriores"|a|a:=#(1 2 3 4 5)atRandom.(a=1)ifTrue: [ self cambiarLuzOriginal: i at: j ]ifFalse:[(a=2)ifTrue:[ 1 to: self tamaño do: [ :x| (celdas at: i at:x)toggleState .self recorrerLuces ] ]	ifFalse:[(a=3)ifTrue:[ 1 to: self tamaño do: [ :y| (celdas at: y at:j)toggleState .self recorrerLuces ]]	ifFalse:[(a=4)ifTrue:[self cambiarLuzfilaColumna: i at: j]	ifFalse:[self cambiarLuzDiagonal: i at:j]]]].! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:22'!cambiarLuzDiagonal: i at: j"Prende o apaga las luces en diagonal de la luz precionada"	((i=1) and: (j<tamaño))ifTrue:[ (celdas at: i + 1 at: j + 1) toggleState ].	((i=1) and: (j>1))ifTrue:[ (celdas at: i + 1 at: j - 1) toggleState ]. 	((i=tamaño) and: (j<tamaño))ifTrue:[(celdas at: i - 1 at: j + 1) toggleState].	((i=tamaño) and: (j>1))ifTrue:[(celdas at: i - 1 at: j - 1) toggleState]. 	((j=1) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j + 1) toggleState.													(celdas at: i + 1 at: j + 1) toggleState].	((j=tamaño) and: (i between: 2  and:tamaño-1 ))ifTrue:[													(celdas at: i - 1 at: j - 1) toggleState.													(celdas at: i + 1 at: j - 1) toggleState].	((j between: 2  and: tamaño-1) & (i between: 2  and: tamaño-1 ))ifTrue:[														(celdas at: i - 1 at: j - 1) toggleState.														(celdas at: i - 1 at: j + 1) toggleState.														(celdas at: i + 1 at: j - 1) toggleState.														(celdas at: i + 1 at: j + 1) toggleState].	self recorrerLuces.! !!Tablero methodsFor: 'logicaDelJuego' stamp: 'Mauri 11/21/2022 23:21'!cambiarLuzOriginal: i at: j"Prende o apaga las luces del modo de juego original,es decir las adyacentes"	(i > 1) ifTrue: [ (celdas at: i - 1 at: j) toggleState ].		(i < tamaño ) ifTrue: [ (celdas at: i + 1 at: j) toggleState ].		(j > 1) ifTrue: [ (celdas at: i at: j - 1) toggleState ].		(j < tamaño) ifTrue: [ (celdas at: i at: j + 1) toggleState ].		self recorrerLuces.! !!Tablero methodsFor: 'condiciónDeCierre' stamp: 'Mauri 11/21/2022 23:26'!recorrerLuces "Recorremos las luces para verificar si estan todas apagadas"	| bandera |	bandera:= true.	1 to: tamaño do: [ :i | 		1 to: tamaño do: [ :j | (celdas at: i at: j) isOn ifFalse: [ bandera := false ] ] ].		bandera ifFalse: [ self contadorDeClicks:1 ].	bandera ifTrue: [LightsOut terminarJuego].! !----End fileIn----!!Jugador commentStamp: 'Juancho 11/23/2022 17:20' prior: 0!Clase encargada de registrar el nombre del usuario.!----SNAPSHOT----2022-11-23T19:57:59.087746-03:00 Lights Out.image priorSource: 64015!----SNAPSHOT----2022-11-23T20:00:00.098653-03:00 Lights Out.image priorSource: 98060!----SNAPSHOT----2022-11-23T20:00:05.920653-03:00 Lights Out.image priorSource: 98147!